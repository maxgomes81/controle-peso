:root{
  --bg:#0b1220;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --line:#243244;
  --card: rgba(17,24,39,.92);
  --btn:#2563eb;
  --btn2:#1f2937;
  --danger:#ef4444;
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background: radial-gradient(1200px 600px at 30% 0%, #111827 0%, var(--bg) 60%);
}
svg{width:1em;height:1em;fill:currentColor;display:block}

.muted{color:var(--muted);margin:4px 0 0}
.small{font-size:12px}
.hidden{display:none}

/* topo */
.appbar{
  position:sticky;top:0;z-index:20;
  display:flex;justify-content:space-between;align-items:center;
  gap:12px;
  padding:14px;
  border-bottom:1px solid var(--line);
  background: rgba(17,24,39,.78);
  backdrop-filter: blur(10px);
}
.brand{display:flex;align-items:center;gap:10px}
.brand-icon{
  width:38px;height:38px;border-radius:12px;
  display:grid;place-items:center;
  background: rgba(11,18,32,.7);
  border:1px solid var(--line);
  color:#93c5fd;
}
.brand-title{font-weight:900;font-size:16px;line-height:1}
.brand-sub{color:var(--muted);font-size:12px;margin-top:3px}
.appbar-right{display:flex;align-items:center;gap:10px}

.select, input{
  width:100%;
  padding:10px 10px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#0b1220;
  color:var(--text);
  outline:none;
}
.select:focus, input:focus{border-color:#3b82f6}
.select.compact{padding:9px 10px;min-width:120px;max-width:220px}

.iconbtn{
  border:1px solid var(--line);
  background: rgba(11,18,32,.7);
  color:var(--text);
  padding:10px;
  border-radius:12px;
  cursor:pointer;
  display:grid;place-items:center;
}
.iconbtn:hover{border-color:#3b82f6}

/* conteúdo */
.shell{
  max-width:980px;
  margin:0 auto;
  padding:12px 12px calc(84px + var(--safe-bottom));
  display:grid;
}

.view{display:none;gap:12px}
.view.active{display:grid}

.card{
  background: var(--card);
  border:1px solid var(--line);
  border-radius:16px;
  padding:14px;
}
.card.hero{padding:14px}

.card-head{
  display:flex;align-items:flex-start;justify-content:space-between;
  gap:12px;margin-bottom:12px;
}
.card-title{
  display:flex;align-items:center;gap:10px;
  font-weight:900;font-size:15px;
}
.card-title .i{
  width:32px;height:32px;border-radius:12px;
  background: rgba(11,18,32,.75);
  border:1px solid var(--line);
  display:grid;place-items:center;
  color:#93c5fd;
}

.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
label{display:grid;gap:6px;font-size:13px}
.span2{grid-column:span 2}

.row{display:flex;gap:10px;align-items:center}
.row.wrap{flex-wrap:wrap}
.between{justify-content:space-between}

.btn{
  border:none;
  padding:11px 12px;
  border-radius:12px;
  cursor:pointer;
  color:#fff;
  background:var(--btn);
  font-weight:900;
}
.btn.secondary{background:var(--btn2);border:1px solid var(--line)}
.btn.danger{background:var(--danger)}

.stats{
  display:grid;
  grid-template-columns:repeat(3, minmax(0, 1fr));
  gap:10px;
  margin-bottom:10px;
}
.stat{
  border:1px solid var(--line);
  border-radius:14px;
  padding:10px;
  background: rgba(11,18,32,.65);
}
.stat .label{color:var(--muted);font-size:12px;font-weight:700}
.stat .value{font-size:16px;font-weight:900;margin-top:4px}

canvas{
  width:100%;
  border:1px solid var(--line);
  border-radius:14px;
  background: rgba(11,18,32,.6);
}

.list{display:grid;gap:8px}
.item{
  display:flex;justify-content:space-between;gap:10px;
  padding:10px;
  border:1px solid var(--line);
  border-radius:14px;
  background: rgba(11,18,32,.65);
}
.item .left{display:grid;gap:4px}
.item .date{font-weight:900}
.item .note{color:var(--muted);font-size:12px}
.item .right{display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:flex-end}
.pill{padding:6px 10px;border-radius:999px;border:1px solid var(--line);background: rgba(17,24,39,.8);font-weight:900}
.pill.mini{font-size:12px;padding:5px 9px;font-weight:800}

.days{margin-top:10px;display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
.day{border:1px solid var(--line);border-radius:14px;padding:10px 8px;background: rgba(11,18,32,.65);display:grid;gap:8px;justify-items:center}
.day span{font-size:12px;color:var(--muted)}
.day input{width:auto}

/* barra inferior (ícones) */
.bottomnav{
  position:fixed;left:0;right:0;bottom:0;z-index:30;
  padding:10px 10px calc(10px + var(--safe-bottom));
  background: rgba(17,24,39,.90);
  border-top:1px solid var(--line);
  backdrop-filter: blur(10px);
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:8px;
}
.tabbtn{
  border:1px solid var(--line);
  background: rgba(11,18,32,.65);
  color:var(--text);
  border-radius:14px;
  padding:10px 8px;
  cursor:pointer;
  display:grid;
  justify-items:center;
  gap:6px;
}
.tabbtn .tabicon{width:22px;height:22px;color:#93c5fd}
.tabbtn .tabtxt{font-size:11px;color:var(--muted);font-weight:800}
.tabbtn.active{border-color:#3b82f6;background: rgba(37,99,235,.15)}
.tabbtn.active .tabtxt{color:var(--text)}
.tabbtn.active .tabicon{color:#60a5fa}

/* modal */
.dialog::backdrop{background: rgba(0,0,0,.55)}
.dialog{border:none;padding:0;background:transparent}
.dialogCard{
  width:min(560px, calc(100vw - 24px));
  background: rgba(17,24,39,.98);
  border:1px solid var(--line);
  border-radius:16px;
  padding:14px;
  color:var(--text);
}

@media (max-width: 820px){
  .grid{grid-template-columns:1fr}
  .span2{grid-column:span 1}
  .stats{grid-template-columns:1fr 1fr}
  .days{grid-template-columns:repeat(4,1fr)}
  .select.compact{min-width:120px;max-width:170px}
}
